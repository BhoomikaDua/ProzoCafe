<div class="prozo-report-wrapper">
  <h1 class="user-form-title">Report</h1>

  <section class="prozo-report-section">
    <h1 class="prozo-section-title"> Custom Invoices</h1>
    <%= form_with url: {:action=>"create", :controller=>"report"}, method: :post do |form| %>

      <div class="user-form-input-section">
        <p class="user-form-input-label">Start Date:</p>
        <%= form.date_field :start_date, class: "user-form-input" %>
      </div>

      <div class="user-form-input-section">
        <p class="user-form-input-label">End Date:</p>
        <%= form.date_field :end_date, class: "user-form-input" %>
      </div>

      <%= form.submit "Show Invoices", class: "user-form-submit-button" %>

    <% end %>
  </section>

  <section class="prozo-report-section">
    <h1 class="prozo-section-title">Most Ordered Menu Items</h1>
    <div class="prozo-report-order-frequency-wrapper">
      <% MenuItem.all.order("ordering_frequency DESC").limit(5).map do |item|%>
        <div class="report-item-frequency-row">
        <span class="report-item-name"><%= item.name %></span>
        <span class="report-item-frequency"><%= item.ordering_frequency_percentage %>% </span>
      </div>
      <% end %>
    </div>
  </section>

  <section class="prozo-report-section">
    <h1 class="prozo-section-title">Types of Orders</h1>
    <div class="prozo-report-order-type-wrapper">
      <div class="report-item-type-row">
        <span class="report-order-type">Online</span>
        <span class="report-order-type-frequency"><%= Invoice.where(online_order: true, in_cart: false).count %></span>
      </div>
      <div class="report-item-type-row">
        <span class="report-order-type">Walk-in</span>
        <span class="report-order-type-frequency"><%= Invoice.where(online_order: false, in_cart: false).count %></span>
      </div>
    </div>
  </section>

  <section class="prozo-report-section">
    <h1 class="prozo-section-title">Earnings Summary</h1>
    <div class="prozo-report-order-profit-row">
      <span class="report-earnings-label">Earning</span>
      <span class="report-earnings report-profit "><%= Invoice.totalBill -  Invoice.productionCost%></span>
    </div>
    <div class="prozo-report-order-profit-row">
      <span class="report-earnings-label">Production Cost</span>
      <span class="report-earnings report-loss"><%= Invoice.productionCost %></span>
    </div>
    <div class="prozo-report-order-profit-row">
      <span class="report-earnings-label">Revenue</span>
      <span class="report-earnings report-profit"><%= Invoice.totalBill %></span>
    </div>

  </section>


</div>
